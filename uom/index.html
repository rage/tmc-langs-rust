<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Units of measurement is a crate that does automatic type-safe zero-cost dimensional analysis. You can create your own systems or use the pre-built International System of Units (SI) which is based on the International System of Quantities (ISQ) and includes numerous quantities (length, mass, time, …) with conversion factors for even more numerous measurement units (meter, kilometer, foot, mile, …). No more crashing your climate orbiter!"><meta name="keywords" content="rust, rustlang, rust-lang, uom"><title>uom - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../uom/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Crate uom</h2><div class="block version"><div class="narrow-helper"></div><p>Version 0.30.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all uom's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></div><div id="sidebar-vars" data-name="uom" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">uom</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/uom/lib.rs.html#1-644" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Units of measurement is a crate that does automatic type-safe zero-cost
<a href="https://en.wikipedia.org/wiki/Dimensional_analysis">dimensional analysis</a>. You can create your own systems or use the pre-built
<a href="http://jcgm.bipm.org/vim/en/1.16.html">International System of Units</a> (SI) which is based on the
<a href="http://jcgm.bipm.org/vim/en/1.6.html">International System of Quantities</a> (ISQ) and includes numerous <a href="http://jcgm.bipm.org/vim/en/1.1.html">quantities</a>
(length, mass, time, …) with conversion factors for even more numerous
<a href="http://jcgm.bipm.org/vim/en/1.9.html">measurement units</a> (meter, kilometer, foot, mile, …). No more crashing your
<a href="https://en.wikipedia.org/wiki/Mars_Climate_Orbiter">climate orbiter</a>!</p>
<h2 id="usage" class="section-header"><a href="#usage">Usage</a></h2>
<p><code>uom</code> requires <code>rustc</code> 1.37.0 or later. Add this to your <code>Cargo.toml</code>:</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies]
uom = &quot;0.30.0&quot;</code></pre></div>
<p>and this to your crate root:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">uom</span>;</code></pre></div>
<p>The simple example below shows how to use quantities and units as well as how <code>uom</code> stops
invalid operations:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">uom</span>;

<span class="kw">use</span> <span class="ident">uom::si::f32</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">uom::si::length::kilometer</span>;
<span class="kw">use</span> <span class="ident">uom::si::time::second</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
   <span class="kw">let</span> <span class="ident">length</span> <span class="op">=</span> <span class="ident">Length::new</span>::<span class="op">&lt;</span><span class="ident">kilometer</span><span class="op">&gt;</span>(<span class="number">5.0</span>);
   <span class="kw">let</span> <span class="ident">time</span> <span class="op">=</span> <span class="ident">Time::new</span>::<span class="op">&lt;</span><span class="ident">second</span><span class="op">&gt;</span>(<span class="number">15.0</span>);
   <span class="kw">let</span> <span class="ident">velocity</span><span class="comment">/*: Velocity*/</span> <span class="op">=</span> <span class="ident">length</span> <span class="op">/</span> <span class="ident">time</span>;
   <span class="kw">let</span> <span class="ident">_acceleration</span> <span class="op">=</span> <span class="ident">calc_acceleration</span>(<span class="ident">velocity</span>, <span class="ident">time</span>);
   <span class="comment">//let error = length + time; // error[E0308]: mismatched types</span>
}

<span class="kw">fn</span> <span class="ident">calc_acceleration</span>(<span class="ident">velocity</span>: <span class="ident">Velocity</span>, <span class="ident">time</span>: <span class="ident">Time</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Acceleration</span> {
   <span class="ident">velocity</span> <span class="op">/</span> <span class="ident">time</span>
}</code></pre></div>
<p>See examples provided with the source for more advanced usage including how to create <code>Quantity</code>
type aliases for a different set of base units and how to create an entirely new system of
quantities.</p>
<h2 id="features" class="section-header"><a href="#features">Features</a></h2>
<p><code>uom</code> has multiple <code>Cargo</code> features for controlling available underlying storage types, the
inclusion of the pre-built <a href="http://jcgm.bipm.org/vim/en/1.16.html">International System of Units</a> (SI), support for
<a href="https://serde.rs/">Serde</a>, and <code>no_std</code> functionality. The features are described below. <code>f32</code>, <code>f64</code>,
<code>std</code>, and <code>si</code> are enabled by default. Features can be cherry-picked by using the
<code>--no-default-features</code> and <code>--features &quot;...&quot;</code> flags when compiling <code>uom</code> or specifying
features in Cargo.toml:</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies]
uom = {
    version = &quot;0.30.0&quot;,
    default-features = false,
    features = [
        &quot;autoconvert&quot;, # automatic base unit conversion.
        &quot;usize&quot;, &quot;u8&quot;, &quot;u16&quot;, &quot;u32&quot;, &quot;u64&quot;, &quot;u128&quot;, # Unsigned integer storage types.
        &quot;isize&quot;, &quot;i8&quot;, &quot;i16&quot;, &quot;i32&quot;, &quot;i64&quot;, &quot;i128&quot;, # Signed integer storage types.
        &quot;bigint&quot;, &quot;biguint&quot;, # Arbitrary width integer storage types.
        &quot;rational&quot;, &quot;rational32&quot;, &quot;rational64&quot;, &quot;bigrational&quot;, # Integer ratio storage types.
        &quot;f32&quot;, &quot;f64&quot;, # Floating point storage types.
        &quot;si&quot;, &quot;std&quot;, # Built-in SI system and std library support.
        &quot;try-from&quot;, # `TryFrom` support between `Time` and `Duration`. Requires `rustc` 1.34.0.
        &quot;use_serde&quot;, # Serde support.
    ]
}</code></pre></div>
<ul>
<li><code>autoconvert</code> – Feature to enable automatic conversion between base units in binary
operators. Disabling the feature only allows for quantities with the same base units to
directly interact. The feature exists to account for compiler limitations where zero-cost
code is not generated for non-floating point underlying storage types.</li>
<li><code>usize</code>, <code>u8</code>, <code>u16</code>, <code>u32</code>, <code>u64</code>, <code>u128</code>, <code>isize</code>, <code>i8</code>, <code>i16</code>, <code>i32</code>, <code>i64</code>, <code>i128</code>,
<code>bigint</code>, <code>biguint</code>, <code>rational</code>, <code>rational32</code>, <code>rational64</code>, <code>bigrational</code>, <code>f32</code>, <code>f64</code> –
Features to enable underlying storage types. At least one of these features must be enabled.
<code>f32</code> and <code>f64</code> are enabled by default. See the <a href="#design">Design</a> section for implications
of choosing different
underlying storage types.</li>
<li><code>si</code> – Feature to include the pre-built <a href="http://jcgm.bipm.org/vim/en/1.16.html">International System of Units</a> (SI). Enabled by
default.</li>
<li><code>std</code> – Feature to compile with standard library support. Disabling this feature compiles
<code>uom</code> with <code>no_std</code>. Enabled by default.</li>
<li><code>try-from</code> – Feature to enable <code>TryFrom</code> support between <code>Time</code> and <code>Duration</code>. Requires
<code>rustc</code> 1.34.0.</li>
<li><code>use_serde</code> – Feature to enable support for serialization and deserialization of quantities
with the <a href="https://serde.rs/">Serde</a> crate. Disabled by default.</li>
</ul>
<h2 id="design" class="section-header"><a href="#design">Design</a></h2>
<p>Rather than working with <a href="http://jcgm.bipm.org/vim/en/1.9.html">measurement units</a> (meter,
kilometer, foot, mile, …) <code>uom</code> works with <a href="http://jcgm.bipm.org/vim/en/1.1.html">quantities</a>
(length, mass, time, …). This simplifies usage because units are only involved at interface
boundaries: the rest of your code only needs to be concerned about the quantities involved.
This also makes operations on quantities (+, -, *, /, …) have zero runtime cost over using
the raw storage type (e.g. <code>f32</code>).</p>
<p><code>uom</code> normalizes values to the <a href="http://jcgm.bipm.org/vim/en/1.10.html">base unit</a> for the
quantity. Alternative base units can be used by executing the macro defined for the system of
quantities (<code>ISQ!</code> for the SI). <code>uom</code> supports <code>usize</code>, <code>u8</code>, <code>u16</code>, <code>u32</code>, <code>u64</code>, <code>u128</code>,
<code>isize</code>, <code>i8</code>, <code>i16</code>, <code>i32</code>, <code>i64</code>, <code>i128</code>, <code>bigint</code>, <code>biguint</code>, <code>rational</code>, <code>rational32</code>,
<code>rational64</code>, <code>bigrational</code>, <code>f32</code>, and <code>f64</code> as the underlying storage type.</p>
<p>A consequence of normalizing values to the base unit is that some values may not be able to be
represented or can’t be precisely represented for floating point and rational underlying
storage types. For example if the base unit of <code>length</code> is <code>meter</code> and the underlying storage
type is <code>i32</code> then values like <code>1 centimeter</code> or <code>1.1 meter</code> cannot be represented. <code>1 centimeter</code> is normalized to <code>0.01 meter</code> which can’t be stored in an <code>i32</code>. <code>uom</code> only allows
units to be used safely. Users of this library will still need to be aware of implementation
details of the underlying storage type including limits and precision.</p>
<h2 id="contributing" class="section-header"><a href="#contributing">Contributing</a></h2>
<p>Contributions are welcome from everyone. Submit a pull request, an issue, or just add comments
to an existing item. The <a href="http://www.bipm.org/en/about-us/">International Bureau of Weights and Measures</a> is an
international standards organization that publishes the <a href="http://www.bipm.org/en/publications/si-brochure/">SI Brochure</a>. This document
defines the <a href="http://jcgm.bipm.org/vim/en/1.16.html">SI</a> and can be used as a comprehensive reference for changes to <code>uom</code>. Conversion
factors for non-SI units can be found in NIST <a href="https://www.nist.gov/pml/nist-guide-si-appendix-b9-factors-units-listed-kind-quantity-or-field-science">Special Publication 811</a>.</p>
<p>Unless you explicitly state otherwise, any contribution intentionally submitted for inclusion in
the work by you, as defined in the Apache-2.0 license, shall be dual licensed as below, without
any additional terms or conditions.</p>
<h3 id="license" class="section-header"><a href="#license">License</a></h3>
<p>Licensed under either of</p>
<ul>
<li>Apache License, Version 2.0, (<a href="LICENSE-APACHE">LICENSE-APACHE</a> or
<a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>)</li>
<li>MIT license (<a href="LICENSE-MIT">LICENSE-MIT</a> or <a href="http://opensource.org/licenses/MIT">http://opensource.org/licenses/MIT</a>)</li>
</ul>
<p>at your option.</p>
</div></details><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="mod" href="fmt/index.html" title="uom::fmt mod">fmt</a></div><div class="item-right docblock-short"><p>Utilities for formatting and printing quantities.</p>
</div><div class="item-left module-item"><a class="mod" href="marker/index.html" title="uom::marker mod">marker</a></div><div class="item-right docblock-short"><p>Primitive traits and types representing basic properties of types.</p>
</div><div class="item-left module-item"><a class="mod" href="si/index.html" title="uom::si mod">si</a></div><div class="item-right docblock-short"><p><a href="http://jcgm.bipm.org/vim/en/1.16.html">International System of Units</a> (SI) and <a href="http://jcgm.bipm.org/vim/en/1.6.html">International System of Quantities</a> (ISQ)
implementations.</p>
</div><div class="item-left module-item"><a class="mod" href="str/index.html" title="uom::str mod">str</a></div><div class="item-right docblock-short"><p>Unicode string slice manipulation for quantities.</p>
</div></div><h2 id="macros" class="section-header"><a href="#macros">Macros</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="macro" href="macro.ISQ.html" title="uom::ISQ macro">ISQ</a></div><div class="item-right docblock-short"><p>Macro to implement <a href="si/struct.Quantity.html"><code>quantity</code></a> type aliases for a specific
<a href="http://jcgm.bipm.org/vim/en/1.13.html">system of units</a> and value storage type.</p>
</div><div class="item-left module-item"><a class="macro" href="macro.impl_from.html" title="uom::impl_from macro">impl_from</a></div><div class="item-right docblock-short"><p><code>impl_from</code> generates generic inter-Kind implementations of <code>From</code>.</p>
</div><div class="item-left module-item"><a class="macro" href="macro.prefix.html" title="uom::prefix macro">prefix</a></div><div class="item-right docblock-short"><p>Macro to implement the <a href="http://jcgm.bipm.org/vim/en/1.16.html">SI</a> prefixes for <a href="http://jcgm.bipm.org/vim/en/1.17.html">multiples of units</a>,
<a href="http://jcgm.bipm.org/vim/en/1.18.html">submultiples of units</a> and <a href="https://www.iec.ch/si/binary.htm">binary multiples of units</a>.</p>
</div><div class="item-left module-item"><a class="macro" href="macro.quantity.html" title="uom::quantity macro">quantity</a></div><div class="item-right docblock-short"><p>Macro to implement a <a href="http://jcgm.bipm.org/vim/en/1.1.html">quantity</a> and associated <a href="http://jcgm.bipm.org/vim/en/1.9.html">measurement units</a>. Note
that this macro must be executed in direct submodules of the module where the
<a href="macro.system.html"><code>system!</code></a> macro was executed. <code>@...</code> match arms are considered private.</p>
</div><div class="item-left module-item"><a class="macro" href="macro.storage_types.html" title="uom::storage_types macro">storage_types</a></div><div class="item-right docblock-short"><p>Macro to duplicate code on a per-storage type basis. The given code is duplicated in new
modules named for each storage type. A type alias, <code>V</code>, is generated that code can use for the
type. <code>@...</code> match arms are considered private.</p>
</div><div class="item-left module-item"><a class="macro" href="macro.system.html" title="uom::system macro">system</a></div><div class="item-right docblock-short"><p>Macro to implement a <a href="http://jcgm.bipm.org/vim/en/1.3.html">system of quantities</a>. <code>@...</code> match
arms are considered private.</p>
</div></div><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="enum" href="enum.ConstantOp.html" title="uom::ConstantOp enum">ConstantOp</a></div><div class="item-right docblock-short"><p>Operations performed on the constant portion of the <a href="https://jcgm.bipm.org/vim/en/1.24.html">conversion factor</a>. Used to help
guide optimizations when floating point underlying storage types are used.</p>
</div></div><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="trait" href="trait.Conversion.html" title="uom::Conversion trait">Conversion</a></div><div class="item-right docblock-short"><p>Trait to identify <a href="http://jcgm.bipm.org/vim/en/1.13.html">units</a> which have a <a href="https://jcgm.bipm.org/vim/en/1.24.html">conversion factor</a>.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.ConversionFactor.html" title="uom::ConversionFactor trait">ConversionFactor</a></div><div class="item-right docblock-short"><p>Trait representing a <a href="https://jcgm.bipm.org/vim/en/1.24.html">conversion factor</a>.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.Kind.html" title="uom::Kind trait">Kind</a></div><div class="item-right docblock-short"><p>Default <a href="https://jcgm.bipm.org/vim/en/1.2.html">kind</a> of quantities to allow addition, subtraction, multiplication, division,
remainder, negation, and saturating addition/subtraction.</p>
</div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="uom" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>